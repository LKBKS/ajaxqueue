/*! jquery_ajaxqueue 2013-08-12 v0.1.0-beta*/
!function(a){"use strict";var b,c,d,e={};d=function(){function b(a){var b=!1;this.name=a,this.requests=[],this.running=!1,this.version=function(a){return"undefined"!=typeof a?(b=a,c(this),this):b},this.incrementVersion=function(a){return"undefined"!=typeof a&&(b=a),a===!1&&c(this),this}}function c(a){a.requests.length=0,a.running&&a.running.abort()}return b.findOrCreateByName=function(a,c){var d;return"undefined"==typeof e[a]?(d=new b(a),d.version(c),e[a]=d):d=e[a],d},b.destroyAllByName=function(){},b.prototype.destroy=function(){return c(this),a.queueajax("destroy",this.name)},b.prototype.push=function(a){return this.requests.push(a),this.running||this.next(),this},b.prototype.next=function(){var b,c=this,d={};return 0===this.requests.length?(this.running=!1,void 0):(b=this.requests.shift(),this.version()!==!1&&(d={data:""},d.data=a.isArray(b.data)?b.data.concat({name:"version",value:this.version()}):a.extend({},b.data,{version:this.version()})),this.running=a.ajax(a.extend({},b,d,{complete:function(d){var e={};if(d.aborted!==!0){try{e=a.parseJSON(d.responseText)}catch(f){}null===e&&(e={})}e.version===!1&&a.isFunction(b.rejected)&&b.rejected.call(this,e),a.isFunction(b.complete)&&b.complete.apply(this,arguments),c.incrementVersion(e.version),c.next()}})),void 0)},b}(),b=Object.keys||function(a){var b,c=[];for(b in a)a.hasOwnProperty(b)&&c.push(b);return c},c=function(a){var b=Object.prototype.toString.call(a).toLowerCase();switch(b){case"[object array]":return"array";case"[object object]":return"object";default:return!1}},a.queueajax=function(a){var f,g,h;if(f={queues:function(){return e},destroy:function(a){var c,d,f,g,h,i=b(e),j=0;for("string"==typeof a&&(f=a,g=f.lastIndexOf("*"),g>-1?(h=g,f=f.slice(0,g)):h=a.length),c=0,d=i.length;d>c;c++)if("undefined"==typeof f)delete e[i[c]],j++;else if(g>-1)i[c].slice(0,g)===f&&(delete e[i[c]],j++);else if(i[c]===f){delete e[i[c]],j++;break}return j}},"undefined"!=typeof f[a])return f[a].apply(f,Array.prototype.slice.call(arguments,1));if("string"==typeof a)return d.findOrCreateByName(a);if("object"===c(a)){if("undefined"==typeof a.queue)throw new TypeError("Expected $.queueajax to contain queue property");return g=a.queue,h=a.version,delete a.queue,delete a.version,d.findOrCreateByName(g,h).push(a)}throw new TypeError("$.queueajax did not detect a valid signature")},a.queuegetJSON=function(b,d){if("string"==typeof b&&"object"===c(d)){if("undefined"==typeof d.queue)throw new TypeError("Expected $.queuegetJSON to contain queue property");return a.queueajax(a.extend({},{type:"GET",dataType:"json",url:b},d))}throw new TypeError("$.queuegetJSON did not detect a valid signature")}}(jQuery);